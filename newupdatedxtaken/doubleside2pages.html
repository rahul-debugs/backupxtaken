<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Form</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            width: 50%;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }

        button {
            padding: 10px 20px;
            border: none;
            background-color: #4CAF50;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            width: 100%;
        }

        button:hover {
            background-color: #45a049;
        }

        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
            display: none;
        }

        .result h3 {
            text-align: center;
        }

        .result p {
            font-size: 16px;
        }

        /* Confirmation message style */
        .confirmation, .thank-you {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
            display: none;
            font-size: 18px;
            font-weight: bold; /* Makes the text bold */
            color: #d9534f; /* Sets the text color to a visible red tone */
            text-align: center;
        }

        .thank-you {
            color: #5bc0de; /* Sets the thank you message text color to blue */
        }

        /* Free delivery message style */
        .free-delivery {
            font-size: 16px;
            font-weight: bold;
            color: green; /* Green color for free delivery message */
            text-align: center;
        }

        /* Message for total cost above 150 */
        .delivery-info {
            font-size: 16px;
            font-weight: bold;
            color: #ff9800; /* Orange color for delivery info */
            text-align: center;
            margin-top: 10px;
        }

        /* New message for total cost less than 150 */
        .less-than-150 {
            font-size: 16px;
            font-weight: bold;
            color: red; /* Red color to indicate this message */
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Order Form</h2>
    <form id="orderForm">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" required>
        </div>

        <div class="form-group">
            <label for="address">Address:</label>
            <input type="text" id="address" required>
        </div>

        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="text" id="phone" required>
        </div>

        <div class="form-group">
            <label for="altPhone">Alternative Phone Number:</label>
            <input type="text" id="altPhone" required>
        </div>

        <div class="form-group">
            <label for="paymentMethod">Payment Method:</label>
            <select id="paymentMethod" required>
                <option value="">Select Payment Method</option>
                <option value="Cash on Delivery">Cash on Delivery</option>
                <option value="Online Payment">Online Payment</option>
            </select>
        </div>

        <div class="form-group">
            <label for="pdfFile">Upload PDF File:</label>
            <input type="file" id="pdfFile" accept=".pdf" required>
        </div>

        <div class="form-group">
            <label for="numCopies">Number of Copies:</label>
            <input type="number" id="numCopies" min="1" required>
        </div>

        <div class="form-group">
            <button type="submit">Submit</button>
        </div>
    </form>

    <div class="result" id="result">
        <h3>Order Details</h3>
        <p><strong>Name:</strong> <span id="resultName"></span></p>
        <p><strong>Address:</strong> <span id="resultAddress"></span></p>
        <p><strong>Phone Number:</strong> <span id="resultPhone"></span></p>
        <p><strong>Alternative Phone Number:</strong> <span id="resultAltPhone"></span></p>
        <p><strong>Payment Method:</strong> <span id="resultPaymentMethod"></span></p>
        <p><strong>Uploaded File:</strong> <span id="resultFile"></span></p>
        <p><strong>Number of Pages:</strong> <span id="resultPages"></span></p>
        <p><strong>Price per Page:</strong> ₹0.5</p>
        <p><strong>Number of Copies:</strong> <span id="resultCopies"></span></p>
        <p><strong>Total Cost:</strong> ₹<span id="resultCost"></span></p>
        <p><strong>Delivery Charge:</strong> <span id="resultDeliveryCharge"></span></p>
    </div>

    <div class="free-delivery" id="freeDeliveryMessage"></div>

    <div class="delivery-info" id="deliveryInfoMessage"></div>

    <div class="less-than-150" id="lessThan150Message"></div>

    <div class="confirmation" id="confirmationMessage">
        Our representative will call you to confirm your order. Delivery charge applies.
    </div>

    <div class="thank-you" id="thankYouMessage">
        Thank you for your order! We appreciate your business.
    </div>
</div>

<script>
    document.getElementById('pdfFile').addEventListener('change', function(event) {
        const file = event.target.files[0];
        
        if (file && file.type === 'application/pdf') {
            const reader = new FileReader();
            reader.onload = function(e) {
                const arrayBuffer = e.target.result;

                // Load PDF using PDF.js
                pdfjsLib.getDocument(arrayBuffer).promise.then(function(pdf) {
                    const numPages = pdf.numPages;
                    document.getElementById('resultPages').textContent = numPages; // Display number of pages
                });
            };
            reader.readAsArrayBuffer(file);
        }
    });

    document.getElementById('orderForm').addEventListener('submit', function(event) {
        event.preventDefault();

        // Get form values
        const name = document.getElementById('name').value;
        const address = document.getElementById('address').value;
        const phone = document.getElementById('phone').value;
        const altPhone = document.getElementById('altPhone').value;
        const paymentMethod = document.getElementById('paymentMethod').value;
        const pdfFile = document.getElementById('pdfFile').files[0]?.name; // Get file name
        const numPages = document.getElementById('resultPages').textContent; // Get number of pages
        const numCopies = document.getElementById('numCopies').value;

        // Price per page
        const pricePerPage = 0.5;

        // Calculate total cost (number of pages * price per page * number of copies)
        const totalCost = numPages * pricePerPage * numCopies;

        // Check if delivery is free or if there's a delivery charge
        let deliveryCharge = 0;
        let confirmationMessage = "Our representative will call you to confirm your order. Delivery charge applies.";
        let deliveryChargeText = "₹" + deliveryCharge.toFixed(2); // Default delivery charge text
        let freeDeliveryMessage = '';
        let deliveryInfoMessage = '';
        let lessThan150Message = '';

        if (totalCost >= 150) {
            deliveryChargeText = "Free Delivery"; // Display "Free Delivery" if cost is 150 or more
            freeDeliveryMessage = "Your total cost is above ₹150. Free delivery!";
            deliveryInfoMessage = "As your total cost exceeds ₹150, you will receive free delivery!";
            confirmationMessage = "Our representative will call you to confirm your order with free delivery.";
        } else {
            deliveryCharge = 20; // Delivery charge (you can adjust this)
            deliveryChargeText = "₹" + deliveryCharge.toFixed(2); // Normal delivery charge text
            confirmationMessage = "Our representative will call you to confirm your order. Delivery charge applies.";
            lessThan150Message = "Your total cost is less than ₹150, so delivery charge applies.";
        }

        // Display the result
        document.getElementById('resultName').textContent = name;
        document.getElementById('resultAddress').textContent = address;
        document.getElementById('resultPhone').textContent = phone;
        document.getElementById('resultAltPhone').textContent = altPhone;
        document.getElementById('resultPaymentMethod').textContent = paymentMethod;
        document.getElementById('resultFile').textContent = pdfFile;
        document.getElementById('resultCopies').textContent = numCopies;
        document.getElementById('resultCost').textContent = totalCost.toFixed(2);
        document.getElementById('resultDeliveryCharge').textContent = deliveryChargeText;

        // Show the result section
        document.getElementById('result').style.display = 'block';

        // Show free delivery message if applicable
        document.getElementById('freeDeliveryMessage').textContent = freeDeliveryMessage;

        // Show delivery info message
        document.getElementById('deliveryInfoMessage').textContent = deliveryInfoMessage;

        // Show message for cost less than 150
        document.getElementById('lessThan150Message').textContent = lessThan150Message;

        // Show confirmation message
        document.getElementById('confirmationMessage').style.display = 'block';
        document.getElementById('confirmationMessage').textContent = confirmationMessage;

        // Show thank you message
        document.getElementById('thankYouMessage').style.display = 'block';
    });
</script>

</body>
</html>